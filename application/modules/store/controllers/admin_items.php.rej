***************
*** 47,56 ****
  		requirePermission("canAddGroups");
  
  		$data["title"] = $this->input->post("title");
  
  		if(!$data['title'])
  		{
- 			die("UI.alert('The fields can\'t be empty')");
  		}
  
  		$this->items_model->addGroup($data);
--- 47,57 ----
  		requirePermission("canAddGroups");
  
  		$data["title"] = $this->input->post("title");
+ 		$data["orderNumber"] = $this->input->post("order");
  
  		if(!$data['title'])
  		{
+ 			die("UI.alert('The following fields can\'t be empty: [Title]')");
  		}
  
  		$this->items_model->addGroup($data);
***************
*** 109,114 ****
  		$data["quality"] = $this->input->post("quality");
  		$data["query_database"] = $this->input->post("query_database");
  		$data["query_need_character"] = ($this->input->post("query_need_character") == "true") ? 1 : 0;
  		$data["query"] = $this->input->post("query");
  		$data["realm"] = $this->input->post("realm");
  		$data["group"] = $this->input->post("group");
--- 110,116 ----
  		$data["quality"] = $this->input->post("quality");
  		$data["query_database"] = $this->input->post("query_database");
  		$data["query_need_character"] = ($this->input->post("query_need_character") == "true") ? 1 : 0;
+ 		$data["require_character_offline"] = ($this->input->post("require_character_offline") == "true") ? 1 : 0;
  		$data["query"] = $this->input->post("query");
  		$data["realm"] = $this->input->post("realm");
  		$data["group"] = $this->input->post("group");
***************
*** 133,138 ****
  		$data["description"] = $this->input->post("description");
  		$data["quality"] = $this->input->post("quality");
  		$data["command_need_character"] = ($this->input->post("command_need_character") == "true") ? 1 : 0;
  		$data["command"] = $this->input->post("command");
  		$data["realm"] = $this->input->post("realm");
  		$data["group"] = $this->input->post("group");
--- 135,141 ----
  		$data["description"] = $this->input->post("description");
  		$data["quality"] = $this->input->post("quality");
  		$data["command_need_character"] = ($this->input->post("command_need_character") == "true") ? 1 : 0;
+ 		$data["require_character_offline"] = ($this->input->post("require_character_offline") == "true") ? 1 : 0;
  		$data["command"] = $this->input->post("command");
  		$data["realm"] = $this->input->post("realm");
  		$data["group"] = $this->input->post("group");
***************
*** 183,189 ****
  				die("UI.alert('Invalid item')");
  			}
  
- 			$data["name"] = $item_data['name'];
  			$data["tooltip"] = 1;
  			$data["quality"] = $item_data['Quality'];
  			if(!preg_match("/inv_.+/i", $data["icon"]))
--- 186,193 ----
  				die("UI.alert('Invalid item')");
  			}
  
+ 			$post_name = $this->input->post('name');
+ 			$data["name"] = $post_name ? $post_name : $item_data['name'];
  			$data["tooltip"] = 1;
  			$data["quality"] = $item_data['Quality'];
  			if(!preg_match("/inv_.+/i", $data["icon"]))
***************
*** 290,297 ****
  		}
  
  		$data["title"] = $this->input->post("title");
  
- 		if(!$data["title"])
  		{
  			die();
  		}
--- 294,302 ----
  		}
  
  		$data["title"] = $this->input->post("title");
+ 		$data["orderNumber"] = $this->input->post("order");
  
+ 		if(!$data["title"] || !$data["orderNumber"])
  		{
  			die();
  		}
